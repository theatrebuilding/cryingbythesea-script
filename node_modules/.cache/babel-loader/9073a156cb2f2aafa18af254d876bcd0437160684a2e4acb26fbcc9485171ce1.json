{"ast":null,"code":"var _jsxFileName = \"/Users/jazbogross/Documents/Websites/cryingbythesea-script/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [script, setScript] = useState([]);\n  const scriptRef = useRef(null);\n\n  // Fetch the script from the JSON file.\n  useEffect(() => {\n    fetch('/script.json').then(response => response.json()).then(data => {\n      // The JSON now has a \"script\" object; convert it into a sorted array.\n      const lines = Object.keys(data.script).sort((a, b) => Number(a) - Number(b)).map(key => data.script[key]);\n      setScript(lines);\n    }).catch(error => console.error('Error fetching script:', error));\n  }, []);\n\n  // Once the script is loaded, calculate the initial scroll offset based on GMT time.\n  useEffect(() => {\n    if (!scriptRef.current || script.length === 0) return;\n    const container = scriptRef.current;\n    // Duplicate the script content, so we take half the scroll height.\n    const totalScrollHeight = container.scrollHeight / 2;\n    const SCROLL_SPEED = 10; // pixels/second (adjust as needed)\n    const duration = totalScrollHeight / SCROLL_SPEED;\n    const now = new Date();\n    const gmtTimeInSeconds = now.getUTCHours() * 3600 + now.getUTCMinutes() * 60 + now.getUTCSeconds();\n    const scrollPosition = gmtTimeInSeconds % duration / duration * totalScrollHeight;\n    container.scrollTop = scrollPosition;\n  }, [script]);\n\n  // Handle scrolling to keep a seamless wrap-around.\n  const handleScroll = () => {\n    const container = scriptRef.current;\n    if (!container) return;\n    const halfHeight = container.scrollHeight / 2;\n    if (container.scrollTop >= halfHeight) {\n      container.scrollTop -= halfHeight;\n    } else if (container.scrollTop < 0) {\n      container.scrollTop += halfHeight;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll-container\",\n      ref: scriptRef,\n      style: {\n        height: '100%',\n        overflowY: 'scroll'\n      },\n      onScroll: handleScroll,\n      children: [script.map((lineObj, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"script-line\",\n        style: {\n          textAlign: lineObj.alignment\n        },\n        children: lineObj.dialogue ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: lineObj.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"em\", {\n          children: lineObj.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)), script.map((lineObj, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"script-line\",\n        style: {\n          textAlign: lineObj.alignment\n        },\n        children: lineObj.dialogue ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: lineObj.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"em\", {\n          children: lineObj.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)\n      }, `repeat-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"EEStCZrlpvdkixRgyXVKTS8XfTk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","script","setScript","scriptRef","fetch","then","response","json","data","lines","Object","keys","sort","a","b","Number","map","key","catch","error","console","current","length","container","totalScrollHeight","scrollHeight","SCROLL_SPEED","duration","now","Date","gmtTimeInSeconds","getUTCHours","getUTCMinutes","getUTCSeconds","scrollPosition","scrollTop","handleScroll","halfHeight","className","children","ref","style","height","overflowY","onScroll","lineObj","index","textAlign","alignment","dialogue","text","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jazbogross/Documents/Websites/cryingbythesea-script/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [script, setScript] = useState([]);\n  const scriptRef = useRef(null);\n\n  // Fetch the script from the JSON file.\n  useEffect(() => {\n    fetch('/script.json')\n      .then((response) => response.json())\n      .then((data) => {\n        // The JSON now has a \"script\" object; convert it into a sorted array.\n        const lines = Object.keys(data.script)\n          .sort((a, b) => Number(a) - Number(b))\n          .map((key) => data.script[key]);\n        setScript(lines);\n      })\n      .catch((error) => console.error('Error fetching script:', error));\n  }, []);\n\n  // Once the script is loaded, calculate the initial scroll offset based on GMT time.\n  useEffect(() => {\n    if (!scriptRef.current || script.length === 0) return;\n\n    const container = scriptRef.current;\n    // Duplicate the script content, so we take half the scroll height.\n    const totalScrollHeight = container.scrollHeight / 2;\n    const SCROLL_SPEED = 10; // pixels/second (adjust as needed)\n    const duration = totalScrollHeight / SCROLL_SPEED;\n\n    const now = new Date();\n    const gmtTimeInSeconds =\n      now.getUTCHours() * 3600 +\n      now.getUTCMinutes() * 60 +\n      now.getUTCSeconds();\n\n    const scrollPosition =\n      ((gmtTimeInSeconds % duration) / duration) * totalScrollHeight;\n\n    container.scrollTop = scrollPosition;\n  }, [script]);\n\n  // Handle scrolling to keep a seamless wrap-around.\n  const handleScroll = () => {\n    const container = scriptRef.current;\n    if (!container) return;\n    const halfHeight = container.scrollHeight / 2;\n\n    if (container.scrollTop >= halfHeight) {\n      container.scrollTop -= halfHeight;\n    } else if (container.scrollTop < 0) {\n      container.scrollTop += halfHeight;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div\n        className=\"scroll-container\"\n        ref={scriptRef}\n        style={{ height: '100%', overflowY: 'scroll' }}\n        onScroll={handleScroll}\n      >\n        {/* Render the original script lines */}\n        {script.map((lineObj, index) => (\n          <div\n            key={index}\n            className=\"script-line\"\n            style={{ textAlign: lineObj.alignment }}\n          >\n            {lineObj.dialogue ? (\n              <span>{lineObj.text}</span>\n            ) : (\n              <em>{lineObj.text}</em>\n            )}\n          </div>\n        ))}\n        {/* Duplicate the script lines for seamless scrolling */}\n        {script.map((lineObj, index) => (\n          <div\n            key={`repeat-${index}`}\n            className=\"script-line\"\n            style={{ textAlign: lineObj.alignment }}\n          >\n            {lineObj.dialogue ? (\n              <span>{lineObj.text}</span>\n            ) : (\n              <em>{lineObj.text}</em>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}